<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSS 2 Physics Practice Questions 2025</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .quiz-info {
            background: #f8f9fa;
            padding: 20px 30px;
            border-bottom: 1px solid #e9ecef;
        }

        .quiz-info div {
            display: inline-block;
            margin-right: 30px;
            font-weight: 600;
            color: #495057;
        }

        .student-info {
            padding: 30px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .student-info h3 {
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #495057;
        }

        .form-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #3498db;
        }

        .start-btn {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1em;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .start-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(39, 174, 96, 0.3);
        }

        .start-btn:disabled {
            background: #95a5a6;
            cursor: not-allowed;
        }

        .question-container {
            padding: 30px;
            display: none;
        }

        .question {
            margin-bottom: 35px;
            padding: 25px;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            background: #fafafa;
            transition: all 0.3s ease;
        }

        .question:hover {
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .question-number {
            font-weight: bold;
            color: #2c3e50;
            font-size: 1.1em;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 1.05em;
            line-height: 1.6;
            margin-bottom: 20px;
            color: #333;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .option:hover {
            border-color: #3498db;
            background: #f1f8ff;
        }

        .option input[type="radio"] {
            margin-right: 12px;
            transform: scale(1.2);
            accent-color: #3498db;
        }

        .option label {
            cursor: pointer;
            flex: 1;
            font-weight: 500;
        }

        .submit-section {
            padding: 30px;
            background: #f8f9fa;
            text-align: center;
            border-top: 1px solid #e9ecef;
            display: none;
        }

        .submit-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .results {
            display: none;
            padding: 30px;
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
        }

        .score {
            font-size: 2em;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.5s ease;
        }

        .admin-section {
            margin-top: 30px;
            padding: 20px;
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
        }

        .admin-section h4 {
            color: #856404;
            margin-bottom: 15px;
        }

        .download-btn {
            background: #17a2b8;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        .download-btn:hover {
            background: #138496;
        }

        .progress-info {
            text-align: center;
            margin-bottom: 20px;
            color: #666;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .options {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .quiz-info div {
                display: block;
                margin-bottom: 10px;
            }
        }
    </style>
    <script>
    window.MathJax = {
    tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
    },
    svg: {
        fontCache: 'global'
    }
    };
    </script>
    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>OLUTAYO INTERNATIONAL COLLEGE</h1>
            <p>Physics Practice Questions 2025 - SSS 2</p>
        </div>

        <div class="quiz-info">
            <div>‚è±Ô∏è Deadline: 17th July, 2025</div>
            <div>üìä Questions: 103</div>
            <div>‚úÖ Multiple Choice</div>
        </div>

        <div class="student-info" id="studentInfo">
            <h3>Student Information</h3>
            <div class="form-group">
                <label for="studentName">Full Name *</label>
                <input type="text" id="studentName" placeholder="Enter your full name" required>
            </div>
            <div class="form-group">
                <label for="studentId">Student ID (Optional)</label>
                <input type="text" id="studentId" placeholder="Enter your student ID">
            </div>
            <div class="form-group">
                <label for="studentClass">Class</label>
                <input type="text" id="studentClass" value="SSS 2" readonly>
            </div>
            <button class="start-btn" onclick="startQuiz()">Start Test</button>
        </div>

        <form id="quizForm">
            <div class="progress-info" id="progressInfo" style="display: none;">
                Questions are randomized.
            </div>
            <div class="question-container" id="questionsContainer">
                </div>

            <div class="submit-section" id="submitSection">
                <button type="submit" class="submit-btn">Submit Test</button>
            </div>
        </form>

        <div class="results" id="results">
            <div class="score" id="scoreDisplay"></div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="admin-section">
                <h4>Teacher/Admin Functions (Local Storage Demo)</h4>
                <p>Note: These functions operate only on data stored in *this browser*.</p>
                <button class="download-btn" onclick="downloadResults()">Download All Results (CSV)</button>
                <button class="download-btn" onclick="viewAllResults()">View All Results</button>
                <button class="download-btn" onclick="clearAllResults()">Clear All Results</button>
            </div>
            <p style="text-align: center; color: #666; margin-top: 15px;">
                <button onclick="location.reload()" style="background: #6c757d; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">New Student</button>
            </p>
        </div>
    </div>

    <script>
        const questions = [
            {
                "id": 1,
        "text": "According to the gravitational field section, what is the gravitational potential due to a molecule of mass m at a distance of r from it?",
        "options": ["$Gm¬≤/r$", "$Gm/r$", "$Gm¬≤/r¬≤$", "$G¬≤m¬≤/r$"],
        "correct": 1
    },
    {
        "id": 2,
        "text": "The acceleration due to gravity may be defined as the force:",
        "options": ["of attraction of the sun on the earth", "with which the earth revolves around the sun", "with which the earth attracts one-kilogram mass", "of the moon on the earth"],
        "correct": 2
    },
    {
        "id": 3,
        "text": "A reservoir is filled with a liquid of density $2000 \\text{ kg m}^{-3}$. If the bottom of the reservoir is at a depth of $10 \\text{ m}$, the liquid pressure will be equal to:",
        "options": ["$2000 \\text{ Nm}^{-2}$", "$20,000 \\text{ Nm}^{-2}$", "$200,000 \\text{ Nm}^{-2}$", "$200 \\text{ Nm}^{-2}$"],
        "correct": 2
    },
    {
        "id": 4,
        "text": "A small circular membrane is $10\\text{cm}$ below the surface of a pool of mercury when the barometric height = $76 \\text{ cm}$ of mercury. If the density of mercury is $13600\\text{kgm}^{-3}$, what is the pressure on the membrane in $Nm^{-2}$? [$g = 10\\text{ms}^{-2}$ ; $1 \\text{ atm} = 1.01 \\times 10^5 \\text{ Nm}^{-2}$ ]",
        "options": ["$6.80 \\times 10^4 \\text{ Nm}^{-2}$", "$1.17 \\times 10^5 \\text{ Nm}^{-2}$", "$1.63 \\times 10^5 \\text{ Nm}^{-2}$"],
        "correct": 1
    },
    {
        "id": 5,
        "text": "A diver is $10 \\text{ m}$ below the water surface. What will be the volume when it rises to just below the surface if the atmospheric pressure is equivalent to a height of $10 \\text{ m}$ of water?",
        "options": ["$6\\text{cm}^3$", "$3\\text{cm}^3$", "$3\\text{cm}^3$", "$2\\text{cm}^3$"],
        "correct": 1
    },
    {
        "id": 6,
        "text": "The pressure in a liquid:",
        "options": ["is the same at all points", "decreases with depth", "is the same in all directions at a given point", "is equal to the atmospheric pressure"],
        "correct": 2
    },
    {
        "id": 7,
        "text": "A diver is $5.2 \\text{ m}$ below the surface of water at atmospheric pressure. If the atmospheric pressure on the diver is $1.02 \\times 10^5 \\text{ Pa}$, the total pressure is [$g = 10 \\text{ ms}^{-2}$ ; $\\rho = 1000 \\text{ kgm}^{-3}$ ]:",
        "options": ["$6.20 \\times 10^4 \\text{ Pa}$", "$6.20 \\times 10^4 \\text{ Pa}$","5.20 √ó 10‚Å¥ Pa", "$1.54 \\times 10^5 \\text{ Pa}$"],
        "correct": 3
    },
    {
        "id": 8,
        "text": "According to Pascal's principle, the pressure in a fluid is always:",
        "options": ["dependent on density of the fluid", "distributed partially in all directions", "transmitted equally in all directions", "increasing with height"],
        "correct": 2
    },
    {
        "id": 9,
        "text": "The function of the manganese(IV)oxide in a Leclanch√© cell is to:",
        "options": ["decrease the e.m.f of the cell", "prevent polarization of the cell", "prevent local action in the cell", "increase the resistance of the cell"],
        "correct": 1
    },
    {
        "id": 10,
        "text": "Formation of hydrogen bubbles at the copper plate of a primary cell is called:",
        "options": ["polarisation", "back e.m.f", "local action", "electrolysis"],
        "correct": 0
    },
    {
        "id": 11,
        "text": "The lead-acid accumulator consists of:",
        "options": ["lead as the positive electrode and lead oxide as the negative electrode", "lead oxide as the positive electrode and lead as the negative electrode", "hydrochloric acid as the electrolyte", "tetraoxosulphate(VI) acid as the electrolyte"],
        "correct": 3
    },
    {
        "id": 12,
        "text": "Which of the following properties is an advantage of a lead-acid accumulator over an alkaline accumulator?",
        "options": ["Possesses low internal resistance", "Can be recharged", "Has shorter life span", "Possesses higher e.m.f"],
        "correct": 0
    },
    {
        "id": 13,
        "text": "Which of the following statements is not an advantage of an alkaline accumulator?",
        "options": ["The electrolyte does not need attention when being recharged", "It has low internal resistance", "It has much longer life than lead-acid accumulator", "It is lighter than lead-acid accumulator"],
        "correct": 1
    },
    {
        "id": 14,
        "text": "The depolarising agent in a Leclanch√© cell is:",
        "options": ["powdered carbon", "manganese (IV) oxide", "carbon rod", "ammonium chloride"],
        "correct": 1
    },
    {
        "id": 15,
        "text": "A galvanometer of internal resistance $100\\Omega$ gives a full scale deflection for a current of $10\\text{mA}$. The value of the resistance necessary to convert the galvanometer to a voltmeter reading up to $5\\text{V}$ is:",
        "options": ["$400\\Omega$", "$500\\Omega$", "$490\\Omega$", "$590\\Omega$"],
        "correct": 0
    },
    {
        "id": 16,
        "text": "For an ammeter, the resistance of the shunt should be:",
        "options": ["much higher than the galvanometer resistance", "equal to the galvanometer resistance", "much lower than the galvanometer resistance", "independent of the galvanometer resistance"],
        "correct": 2
    },
    {
        "id": 17,
        "text": "On the earth's surface, where would an object have its greatest weight?",
        "options": ["at the equator", "between the equator and the poles", "half way between the equator and the south pole", "at the poles"],
        "correct": 3
    },
    {
        "id": 18,
        "text": "Given that the gravitational constant is $7.0 \\times 10^{-11} \\text{ Nm}^2\\text{kg}^{-2}$, the force of attraction between a $100\\text{kg}$ mass of lead hanging one metre away from a $200\\text{kg}$ mass of iron is:",
        "options": ["$7.0 \\times 10^{-6} \\text{ N}$", "$1.4 \\times 10^{-5} \\text{ N}$", "$2.1 \\times 10^{-5} \\text{ N}$", "$1.4 \\times 10^{-4} \\text{ N}$"],
        "correct": 1
    },
    {
        "id": 19,
        "text": "The gravitational force of the moon is one-sixth that of the earth. A man who weighs $600\\text{N}$ on the moon would weigh on the earth:",
        "options": ["$100\\text{N}$", "$600\\text{N}$", "$3600\\text{N}$", "$36000\\text{N}$"],
        "correct": 2
    },
    {
        "id": 20,
        "text": "Which of the following statements about mass and weight is not correct?",
        "options": ["Weight is the force of gravity on a body", "The mass of a body is the quantity of matter in the body", "Weight is measured in Newton", "Mass is measured at the equator only"],
        "correct": 3
    },
    {
        "id": 21,
        "text": "If the force of attraction between the sun and the planets is removed, the planets will:",
        "options": ["fall towards the sun", "scatter and stop moving", "continue to move in straight lines", "move perpendicular to their original orbits"],
        "correct": 2
    },
    {
        "id": 22,
        "text": "An iron rod is moved from the earth to the moon. Which of the following properties of the rod would remain unchanged?",
        "options": ["Mass", "Weight", "Both mass and weight", "Neither mass nor weight"],
        "correct": 0
    },
    {
        "id": 23,
        "text": "A very sensitive spring balance was used to determine the weight of an object at the north pole. When the same spring balance was used to measure the weight of the same object at the equator, it was found that:",
        "options": ["it is very hot at the equator", "the spring balance has expanded", "the acceleration due to gravity varies with latitude", "the mass of the body is reduced"],
        "correct": 2
    },
    {
        "id": 24,
        "text": "Two objects of masses $80\\text{kg}$ and $50\\text{kg}$ are separated by a distance of $0.2\\text{m}$. If the gravitational constant is $6.6 \\times 10^{-11} \\text{ Nm}^2\\text{kg}^{-2}$, calculate the gravitational attraction between them:",
        "options": ["$4.9 \\times 10^{-6} \\text{ N}$", "$1.3 \\times 10^{-5} \\text{ N}$", "$6.6 \\times 10^{-6} \\text{ N}$", "$6.6 \\times 10^{-5} \\text{ N}$"],
        "correct": 2
    },
    {
        "id": 25,
        "text": "The mass of the earth is $6.0 \\times 10^{24} \\text{ kg}$ and that of the moon is $7.0 \\times 10^{22} \\text{ kg}$. If the distance between them is $4.0 \\times 10^8 \\text{ m}$, calculate the gravitational attraction between them:",
        "options": ["$1.1 \\times 10^{20} \\text{ N}$", "$1.7 \\times 10^{20} \\text{ N}$", "$1.8 \\times 10^{19} \\text{ N}$", "$1.8 \\times 10^{20} \\text{ N}$"],
        "correct": 3 
    },
    {
        "id": 26,
        "text": "An object is situated within the earth's gravitational field. Which of the following factors does not affect the acceleration of free fall?",
        "options": ["The distance of the object from the centre of the earth", "The latitude of the place on the earth", "The mass of the object", "The rotation of the earth"],
        "correct": 2
    },
    {
        "id": 27,
        "text": "The following properties of a solid are measured on earth: I. weight II. specific heat capacity III. density. Which of the properties I, II and III have a different value if measured in space?",
        "options": ["I only", "II only", "III only", "I, II and III only"],
        "correct": 0
    },
    {
        "id": 28,
        "text": "A man and his friend have masses $70 \\text{ kg}$ and $60 \\text{ kg}$ respectively. If they are seated $1.0 \\text{ m}$ apart, calculate the gravitational force of attraction between them:",
        "options": ["$2.8 \\times 10^{-7} \\text{ N}$", "$4.2 \\times 10^{-7} \\text{ N}$", "$2.8 \\times 10^{-6} \\text{ N}$", "$4.2 \\times 10^{-6} \\text{ N}$"],
        "correct": 0
    },
    {
        "id": 29,
        "text": "What is the gravitational potential due to a point mass m at a distance from it?",
        "options": ["-Gm/r", "$Gm/r¬≤$", "-Gm/r¬≤", "$Gm/r$"],
        "correct": 0
    },
    {
        "id": 30,
        "text": "The magnitude of the gravitational force between two particles $0.10 \\text{ m}$ apart is $10 \\text{ N}$. If the distance between them is increased to $0.20\\text{m}$, calculate the magnitude of the new force:",
        "options": ["$2.5 \\text{ N}$", "$5.0 \\text{ N}$", "$20 \\text{ N}$", "$40 \\text{ N}$"],
        "correct": 0
    },
    {
        "id": 31,
        "text": "A missile weighing $400\\text{N}$ on the earth's surface is shot into the atmosphere to an altitude of $4.0 \\times 10^6 \\text{ m}$. If the radius of the earth is $6.40 \\times 10^6 \\text{ m}$ and assuming the inverse-square law of universal gravitation, what would be the weight of the missile at this altitude?",
        "options": ["$100\\text{N}$", "$200\\text{N}$", "$400\\text{N}$", "$800\\text{N}$"],
        "correct": 0
    },
    {
        "id": 32,
        "text": "Which of the following statements is/are correct? I. Gravitational potential due to a point mass at a distance r away is proportional to r¬≤ II. Gravitational field strength is a scalar quantity III. Gravitational intensity is proportional to the weight of a unit mass",
        "options": ["I, II and III", "I and II only", "II only", "I only"],
        "correct": 2
    },
    {
        "id": 33,
        "text": "Two spheres of masses $100\\text{kg}$ and $50 \\text{ kg}$ respectively have their centres separated by a distance of $1.0\\text{m}$. Calculate the magnitude of the force of attraction between them:",
        "options": ["$3.3 \\times 10^{-7} \\text{ N}$", "$6.70 \\times 10^{-7} \\text{ N}$", "$6.03 \\times 10^{-7} \\text{ N}$", "$6.03 \\times 10^{-8} \\text{ N}$"],
        "correct": 0
    },
    {
        "id": 34,
        "text": "The magnitude of the gravitational attraction between the earth and a particle is $40 \\text{ N}$. If the mass of the particle is $4\\text{kg}$, calculate the magnitude of the gravitational field intensity of the earth on the particle:",
        "options": ["$10.0 \\text{ N kg}^{-1}$", "$12.5 \\text{ N kg}^{-1}$", "$25.0 \\text{ N kg}^{-1}$", "$160.0 \\text{ N kg}^{-1}$"],
        "correct": 0
    },
    {
        "id": 35,
        "text": "In the absence of gravitational force, the weight of a body is:",
        "options": ["its mass", "zero", "its density", "its volume"],
        "correct": 0
    },
    {
        "id": 36,
        "text": "The correct relationship between \"G\" and \"g\" in a gravitational field is given by the equation (Where the symbols have their usual meanings):",
        "options": ["$g = GM/r¬≤$", "$g = Gm/r¬≤$", "$g = GM/r$", "$g = Gm/r$"],
        "correct": 0
    },
    {
        "id": 37,
        "text": "Which of the following statements about the mass and the weight of a body is not correct?",
        "options": ["mass is a scalar quantity", "weight and mass are scalar quantities", "weight is a function of the gravitational pull on it", "weight at the equator and at the poles is the same"],
        "correct": 3
    },
    {
        "id": 38,
        "text": "Given that the gravitational constant is G Newtons, the universal law of gravitation states that the force of attraction between two masses M and M separated by a distance r is:",
        "options": ["$GrM‚ÇÅM‚ÇÇ$", "$GM‚ÇÅM‚ÇÇ/r¬≤$", "$GM‚ÇÅM‚ÇÇ/r$", "$GM‚ÇÅM‚ÇÇr¬≤$"],
        "correct": 1
    },
    {
        "id": 39,
        "text": "Two objects P and Q of masses $100 \\text{ kg}$ and $20 \\text{ kg}$ respectively are $1.2 \\text{ m}$ apart on a horizontal surface. Calculate the net gravitational force acting on Q:",
        "options": ["$9.26 \\times 10^{-8} \\text{ N}$ towards P", "$1.11 \\times 10^{-7} \\text{ N}$ towards P", "$9.26 \\times 10^{-8} \\text{ N}$ towards Q", "$1.11 \\times 10^{-7} \\text{ N}$ towards Q"],
        "correct": 0
    },
    {
        "id": 40,
        "text": "Two bodies of masses $3.0 \\text{ kg}$ and $2.0 \\text{ kg}$ are separated by a distance of $50\\text{cm}$. Calculate the force of attraction between them:",
        "options": ["$1.6 \\times 10^{-9} \\text{ N}$", "$1.58 \\times 10^{-9} \\text{ N}$", "$2.38 \\times 10^{-8} \\text{ N}$", "$1.58 \\times 10^{-8} \\text{ N}$"],
        "correct": 0
    },
    {
        "id": 41,
        "text": "Which of the following actions would increase the gravitational force between two positively charged particles?",
        "options": ["Decreasing the mass of the particles.", "Decreasing the distance between the particles.", "Increasing the distance between the particles.", "Increasing the mass of the particles."],
        "correct": 1
    },
    {
        "id": 42,
        "text": "Which of the following statements about gravitational force is true?",
        "options": ["It is a vector quantity.", "It is a scalar quantity.", "It is always attractive.", "It can be both attractive and repulsive."],
        "correct": 2
    },
    {
        "id": 43,
        "text": "Which of the following statements about the universal gravitational constant, G, is true?",
        "options": ["It is a fundamental quantity.", "It has dimensions $M^{-1}L^3T^{-2}$.", "Its S.I unit is $N m¬≤ kg^{-1}$.", "It is a vector quantity."],
        "correct": 3
    },
    {
        "id": 44,
        "text": "A rocket of mass m is fired from the Earth's surface such that it just escapes from the Earth's gravitational field. If R is the radius of the Earth and g the acceleration of free fall due to gravity, the escape velocity of the rocket is expressed as",
        "options": ["$\\sqrt{2gR}$", "$\\sqrt{R/2g}$", "$\\sqrt{2R/g}$", "$\\sqrt{R¬≤/2g}$"],
        "correct": 0
    },
    {
        "id": 45,
        "text": "Calculate the escape velocity of a satellite launched from the earth's surface (Take g as $10\\text{ms}^{-1}$ and the radius of the earth as $6.4 \\times 10^6 \\text{ m}$)",
        "options": ["$8.00 \\times 10^4 \\text{ ms}^{-1}$", "$1.13 \\times 10^4 \\text{ ms}^{-1}$", "$3.58 \\times 10^4 \\text{ ms}^{-1}$", "$1.59 \\times 10^4 \\text{ ms}^{-1}$"],
        "correct": 1
    },
    {
        "id": 46,
        "text": "A planet has mass M, and radius R, if the universal gravitational constant is G, what is the expression for the escape velocity of an object on the planet?",
        "options": ["$\\sqrt{2M/R}$", "$\\sqrt{GR/M}$", "$\\sqrt{GM/R}$", "$\\sqrt{2GM/R}$"],
        "correct": 3
    },
    {
        "id": 47,
        "text": "What is the escape velocity of a body on the surface of the earth if the gravitational constant is G and the mass of the earth is M? (Neglect effects closer to the surroundings)",
        "options": ["$2GR$", "$\\sqrt{2GR}$", "$\\sqrt{2GM/R^2}$", "$\\sqrt{2GM/R}$"],
        "correct": 3
    },
    {
        "id": 48,
        "text": "A rocket is launched from the surface of the earth. If the radius of the Earth is $6.4 \\times 10^6 \\text{m}$ and the acceleration of free fall due to gravity is $10 \\text{m/s}^2$, calculate the escape velocity of the rocket.",
        "options": ["$3.2 \\times 10^3 \\text{m/s}$", "$4.1 \\times 10^3 \\text{m/s}$", "$8.0 \\times 10^3 \\text{m/s}$", "$11.3 \\times 10^3 \\text{m/s}$"],
        "correct": 3
    },
    {
        "id": 49,
        "text": "A rocket of mass m is fired from the Earth's surface such that it just escapes from the Earth. If G is the universal gravitational constant, R is the radius of the Earth and g is the acceleration of free fall due to gravity, the escape velocity of the rocket is expressed as:",
        "options": ["$\\sqrt{gR}$", "$\\sqrt{2gR}$", "$\\sqrt{R/2g}$", "$\\sqrt{GM/R}$"],
        "correct": 1
    },
    {
        "id": 50,
        "text": "Calculate the escape velocity of a satellite launched from the earth's surface (Taking g as $10 \\text{m/s}^2$ and the radius of the earth as $6.4 \\times 10^6 \\text{m}$)?",
        "options": ["$8.00 \\times 10^3 \\text{m/s}$", "$1.13 \\times 10^4 \\text{m/s}$", "$3.20 \\times 10^3 \\text{m/s}$", "$4.50 \\times 10^3 \\text{m/s}$"],
        "correct": 1
    },
    {
        "id": 51,
        "text": "If planet mass M, and radius R, if the universal gravitational constant is G, what is the expression for the escape velocity of an object on the planet?",
        "options": ["$\\sqrt{GM/R}$", "$\\sqrt{2GM/R}$", "$\\sqrt{2GR/M}$", "$\\sqrt{GM/2R}$"],
        "correct": 1
    },
    {
        "id": 52,
        "text": "The primary coil of a transformer has $5500$ turns. It is primarily used between a $240 \\text{ V}$ a.c. supply and a secondary coil to operate a device rated at $12 \\text{ V}$. What is the number of turns in the secondary?",
        "options": ["$31000$", "$2750$", "$460$", "$275$"],
        "correct": 3
    },
    {
        "id": 53,
        "text": "Which of the following reduce the effect of the back emf generated in the primary coil of an induction coil? I. The capacitor in the circuit. II. The make and break contact. III. The soft iron core is laminated. IV. The secondary to that in the primary.",
        "options": ["I only.", "II only.", "I and II only.", "II and III only."],
        "correct": 3
    },
    {
        "id": 54,
        "text": "A transformer has 400 turns of wire in the primary coil and 80 turns in the secondary coil. If the input voltage is 150 volts, calculate the magnitude of the output voltage.",
        "options": ["150 V", "55 V", "36 V", "30 V"],
        "correct": 3
    },
    {
        "id": 55,
        "text": "The voltage and current in the primary of a transformer are $200\\text{V}$ and $2\\text{A}$ respectively. If the transformer is used to light ten $12 \\text{ V}$, $30 \\text{ W}$ bulbs, calculate its efficiency.",
        "options": ["100%.", "90%.", "80%.", "75%."],
        "correct": 3
    },
    {
        "id": 56,
        "text": "A house is supplied with $240\\text{ V}$ a.c. mains. To operate a doorbell rated at $8\\text{V}$, a transformer is used. If the number of turns in the primary coil of the transformer is 900, calculate the number of turns in the secondary coil of the transformer.",
        "options": ["30.", "75.", "148.", "450."],
        "correct": 0
    },
    {
        "id": 57,
        "text": "An induction coil is generally used to:",
        "options": ["rectify an alternating current.", "produce a high input voltage.", "smoothen a pulsating direct current.", "produce a large output voltage."],
        "correct": 3
    },
    {
        "id": 58,
        "text": "A transformer is required to supply $12\\text{ Vms}$ to operate a toy from a fitted $240\\text{ Vms}$. If the number of turns in the secondary coil is 100, calculate the number of turns required in the primary coil.",
        "options": ["2.0", "5.0", "1000", "2000"],
        "correct": 3
    },
    {
        "id": 59,
        "text": "An ideal step down transformer steps up",
        "options": ["Power", "Energy", "Current", "Voltage"],
        "correct": 2
    },
    {
        "id": 60,
        "text": "A transformer connected to a $240\\text{ Vms}$ has 3000 turns in its primary coil and 500 turns in its secondary coil. Calculate the output voltage.",
        "options": ["400 V", "40 V", "0.25 V", "4.0 V"],
        "correct": 1
    },
    {
        "id": 61,
        "text": "A transformer has 400 turns and 200 turns in the primary and secondary windings respectively. If the current in the primary and secondary windings are 3A and 5A respectively, calculate the efficiency of the transformer.",
        "options": ["85.0%.", "83.3%.", "37.5%.", "20.0%."],
        "correct": 2
    },
    {
        "id": 62,
        "text": "The current in the primary coil of a transformer is $2.5 \\text{ A}$. If the coil has 50 turns and the secondary 250 turns, calculate the current in the secondary coil.",
        "options": ["$0.2\\text{A}$", "$0.5\\text{A}$", "$2.5\\text{A}$", "$5.0\\text{A}$"],
        "correct": 1
    },
    {
        "id": 63,
        "text": "The core of a transformer is usually laminated in order to:",
        "options": ["Reduce magnetic flux leakage.", "reduce eddy current .", "Prevent vibration of the transformer.", "Minimize magnetic reversal in the core much easier."],
        "correct": 1
    },
    {
        "id": 64,
        "text": "Which of the following statements is not a reason for using soft iron in making the core of a transformer?",
        "options": ["It retains its magnetism for a long time.", "Is easily magnetized.", "Reduces energy loss.", "Is of low resistivity."],
        "correct": 0
    },
    {
        "id": 65,
        "text": "The primary of a transformer has 100 turns and its secondary has 200 turns. If the voltage at the primary is $100 \\text{ V}$, determine the voltage at the secondary.",
        "options": ["50 V.", "100 V.", "200 V.", "400 V."],
        "correct": 2
    },
    {
        "id": 66,
        "text": "In which of the following activities is an induction coil NOT used?",
        "options": ["Investigation of high voltages.", "Study of electric discharge.", "Operation of X-ray tubes.", "AC power transmission."],
        "correct": 3
    },
    {
        "id": 67,
        "text": "Which of the following devices does not make use of eddy current for its action?",
        "options": ["galvanometer.", "speedometer.", "Ammeter.", "Induction coil."],
        "correct": 3
    },
    {
        "id": 68,
        "text": "Eddy currents can be reduced by:",
        "options": ["using coil of high resistance.", "winding the coil on a soft iron core.", "creating holes in the metal plates.", "using coil of low resistance."],
        "correct": 2
    },
    {
        "id": 69,
        "text": "If the efficiency of a transformer is 100%, which of the following equations would be correct?",
        "options": ["$N_p E_p = N_s E_s$", "$N_s I_p = N_p I_s$", "$N_s I_s = N_p I_p$", "$I_p E_s = I_s E_p$"],
        "correct": 3
    },
    {
        "id": 70,
        "text": "An electrical device has 50 turns in its primary coil and 20 turns in the secondary coil. The device can be a/an:",
        "options": ["step-up transformer.", "step-down transformer.", "d.c. generator.", "a.c. generator."],
        "correct": 1
    },
    {
        "id": 71,
        "text": "The reason for laminating the soft iron core of a transformer is to:",
        "options": ["Reduce eddy current.", "Reduce the magnetic flux.", "Increase the magnetic flux.", "Reduce the frequency."],
        "correct": 0
    },
    {
        "id": 72,
        "text": "Which of the following devices is associated with alternating currents only?",
        "options": ["Induction coil.", "Lead-acid accumulator.", "Step-up transformer.", "Moving-coil galvanometer."],
        "correct": 2
    },
    {
        "id": 73,
        "text": "Which of the following actions will not increase the magnitude of the e.m.f. induced in the coil?",
        "options": ["Increasing the number of turns in the coil.", "Increasing the strength of the magnetic field.", "Increasing the rate of change of flux linkage.", "Decreasing the resistance of the coil."],
        "correct": 3
    },
    {
        "id": 74,
        "text": "What is the relationship between the current in a coil and the induced e.m.f.?",
        "options": ["The current is proportional to the induced e.m.f.", "The current is inversely proportional to the induced e.m.f.", "The current is independent of the induced e.m.f.", "The current opposes the change that causes the induced e.m.f."],
        "correct": 3
    },
    {
        "id": 75,
        "text": "A transformer could be designed to step up  a dc voltage by",
        "options": ["connecting it to a make and break system", "increasing the number of turns of the primary coil", "increasing the number of turns of the secondary coil", "increasing the induced current"],
        "correct": 0
    },
    {
        "id": 76,
        "text": "A solenoid is constructed by winding an insulated copper on a long test tube. A constant direct current is passed through the solenoid. Which of the following actions will not increase the strength of the magnetic field of the solenoid? Inserting a ...",
        "options": ["nickel rod in the test tube.", "brass rod in the test tube.", "soft iron rod in the test tube.", "steel rod in the test tube."],
        "correct": 1
    },
    {
        "id": 77,
        "text": "The process of producing electric current by a changing magnetic field is referred to as:",
        "options": ["flux linkage.", "magnet induction.", "electromagnetic induction.", "electrostatic induction."],
        "correct": 2
    },
    {
        "id": 78,
        "text": "A rectangular coil of wire can rotate in a magnetic field. The ends of the coil are soldered to the two halves of a split ring. Two carbon brushes are made to press lightly against the split ring and when these are connected in circuit with a battery and rheostat, the coil rotates. This is a description of:",
        "options": ["a suspended coil galvanometer.", "a moving-coil ammeter.", "a d.c generator.", "an electric motor."],
        "correct": 3
    },
    {
        "id": 79,
        "text": "Which of the following is not part of an a.c. generator?",
        "options": ["Carbon brushes.", "Slip rings.", "Commutator.", "Field magnet."],
        "correct": 2
    },
    {
        "id": 80,
        "text": "A d.c. motor is a device that converts:",
        "options": ["mechanical energy to electrical energy.", "electrical energy to mechanical energy.", "electrical energy to heat energy.", "mechanical energy to heat energy."],
        "correct": 1
    },
    {
        "id": 81,
        "text": "An a.c. generator can be converted to a d.c. electric motor by replacing the:",
        "options": ["slip rings with a split ring and connecting a battery.", "split ring with slip rings and connecting a battery.", "a.c. with d.c. source and connecting slip rings.", "a.c. with d.c. source and connecting split rings."],
        "correct": 0
    },
    {
        "id": 82,
        "text": "The purpose of commutator in a direct current motor is to:",
        "options": ["increase the efficiency of the motor.", "reverse the direction of the current after every half rotation.", "enable a uniform couple to act on the coil.", "increase the number of rotations per second."],
        "correct": 1
    },
    {
        "id": 83,
        "text": "A transformer with 5500 turns in its primary is used between a $240\\text{V}$ a.c supply and a $120\\text{ V}$ kettle. Calculate the number of turns in the secondary",
        "options": ["$2750$", "750.", "460.", "232."],
        "correct": 0
    },
    {
        "id": 84,
        "text": "Which of the following reduce(s) the effect of the back e.m.f. generated in the primary coil of an induction coil? I. The capacitor in the circuit II. The make and break contact in the circuit III. The soft iron core used in the primary",
        "options": ["I only.", "II only.", "I and II only.", "II and III only."],
        "correct": 2
    },
    {
        "id": 85,
        "text": "A transformer has 400 turns of wire in the primary coil and 40 turns in the secondary coil. If the input voltage is $150\\text{ volts}$, calculate the magnitude of the output voltage.",
        "options": ["150 V.", "55 V.", "35 V.", "15 V."],
        "correct": 3
    },
    {
        "id": 86,
        "text": "The voltage and current in the primary of a transformer are $240\\text{V}$ and $2\\text{A}$ respectively. If the transformer is used to light ten $12 \\text{ V}$, $30 \\text{ W}$ bulbs, calculate its efficiency.",
        "options": ["100%.", "90%.", "75%.", "50%."],
        "correct": 2
    },
    {
        "id": 87,
        "text": "A house is supplied with a $240\\text{ V}$ a.c. mains. To operate a door bell rated at $8\\text{ V}$, a transformer is used. If the number of turns in the primary coil of the transformer is 900, calculate the number of turns in the secondary coil of the transformer",
        "options": ["30.", "240.", "248.", "450."],
        "correct": 0
    },
    {
        "id": 88,
        "text": "An induction coil is generally used to",
        "options": ["rectify an alternating current.", "produce a large input voltage.", "smoothen a pulsating direct current.", "produce a large output voltage."],
        "correct": 3
    },
    {
        "id": 89,
        "text": "A transformer is required to supply $12 \\text{ Vrms}$ to operate a toy train set from a $240 \\text{ Vrms}$ a.c. If the number of turns in the secondary coil is 100, calculate the number of turns required in the primary coil.",
        "options": ["5.", "12.", "2000.", "2400."],
        "correct": 3
    },
    {
        "id": 90,
        "text": "An ideal step -down transformer steps up",
        "options": ["Power.", "energy.", "current.", "voltage."],
        "correct": 2
    },
    {
        "id": 91,
        "text": "A transformer connected to a $240\\text{ Vrms}$ has 3000 turns in its primary coil and 500 turns in its secondary coil. Calculate the secondary voltage",
        "options": ["4000 V.", "400 V.", "40 V.", "4 V."],
        "correct": 2
    },
    {
        "id": 92,
        "text": "A transformer has 400 turns and 200 turns in the primary and secondary windings respectively. If the current in the primary and secondary windings are $3\\text{A}$ and $5\\text{A}$ respectively, calculate the efficiency of the transformer.",
        "options": ["85.0%.", "83.3%.", "37.5%.", "30.0%."],
        "correct": 1
    },
    {
        "id": 93,
        "text": "The current in the primary coil of a transformer is $2.5\\text{A}$. If the coil has 50 turns and the secondary 250 turns, calculate the current in the secondary coil. (Assume no energy losses in the transformer)",
        "options": ["$0.2\\text{A}$.", "$0.5\\text{A}$.", "$2.5\\text{A}$.", "$5.0\\text{A}$.", ],
        "correct": 1
    },
    {
        "id": 94,
        "text": "The core of a transformer is usually laminated in order to",
        "options": ["reduce magnetic flux leakage.","reduce eddy current", "prevent vibration of the transformer.", "prevent alternating magnetic reversal in the core much easier.", ],
        "correct": 1
    },
    {
        "id": 95,
        "text": "Which of the following statements is not a reason for using soft iron in making the core of a transformer?",
        "options": ["It retains its magnetism for a long time.", "is easily magnetized.", "reduces energy loss due to hysteresis.", "is easily demagnetized."],
        "correct": 0
    },
    {
        "id": 96,
        "text": "The primary of a transformer has 100 turns and its secondary has 200 turns. If the voltage at the primary is $100\\text{ V}$, determine the voltage at the secondary.",
        "options": ["50 V.", "100 V.", "200 V.", "400 V."],
        "correct": 2
    },
    {
        "id": 97,
        "text": "In which of the following activities is an induction coil not useful?",
        "options": ["Investigation of high voltages.", "Study of electric discharge.", "Operation of X-ray tubes.", "A.C. power transmission."],
        "correct": 3
    },
    {
        "id": 98,
        "text": "Which of the following devices does not make use of eddy current for its action? A/An",
        "options": ["moving iron ammeter", "speedometer.", "induction furnace.", "induction coil."],
        "correct": 0
    },
    {
        "id": 99,
        "text": "Eddy currents can be reduced by",
        "options": ["using coil of high resistance.", "winding the coil on a soft iron core.", "creating holes in the metal plates.", "using coil of low resistance."],
        "correct": 2
    },
    {
        "id": 100,
        "text": "If the efficiency of a transformer is 100%, which of the following equations would be correct?",
        "options": ["$N_s E_s = N_p E_s$", "$N_s I_s = N_p I_p$", "$N_s I_s = N_p E_p$", "$I_s E_s = I_p E_p$"],
        "correct": 3
    },
    {
        "id": 101,
        "text": "An electrical device has 50 turns in its primary coil and 20 turns in the secondary coil. The device can be a/an",
        "options": ["step-up transformer.", "step-down transformer.", "d.c. generator.", "a.c. generator."],
        "correct": 1
    },
    {
        "id": 102,
        "text": "The reason for laminating the soft iron core of a transformer is to",
        "options": ["Reduce eddy current.", "Reduce the magnetic flux.", "Increase the magnetic flux.", "Reduce the efficiency."],
        "correct": 0
    },
    {
        "id": 103,
        "text": "Which of the following devices is associated with alternating currents only?",
        "options": ["Induction coil.", "Lead-acid accumulator.", "Step-up transformer.", "Moving-coil galvanometer."],
        "correct": 2
            }
        ];

        let shuffledQuestions = [];
        let currentStudent = null;

        // Function to shuffle an array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function startQuiz() {
            const name = document.getElementById('studentName').value.trim();
            const studentId = document.getElementById('studentId').value.trim();
            const studentClass = document.getElementById('studentClass').value.trim();
            
            if (!name) {
                alert('Please enter your full name to continue.');
                return;
            }

            currentStudent = {
                name: name,
                studentId: studentId || 'N/A',
                class: studentClass || 'SSS 2', 
                startTime: new Date().toISOString(),
                questionOrder: []
            };

            // QUESTIONS ARE NOW SHUFFLED
            shuffledQuestions = shuffleArray(questions);
            currentStudent.questionOrder = shuffledQuestions.map(q => q.id);

            // Hide student info, show quiz
            document.getElementById('studentInfo').style.display = 'none';
            document.getElementById('progressInfo').style.display = 'block';
            document.getElementById('questionsContainer').style.display = 'block';
            document.getElementById('submitSection').style.display = 'block';

            renderQuestions();
        }

        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = '';
            
            shuffledQuestions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                
                // Add an index to the question name to make it unique and allow the form to work
                questionDiv.innerHTML = `
                    <div class="question-number">Question ${index + 1}</div>
                    <div class="question-text">${question.text}</div>
                    <div class="options">
                        ${question.options.map((option, optIndex) => `
                            <div class="option">
                                <input type="radio" name="q${index}" value="${optIndex}" id="q${index}_${optIndex}">
                                <label for="q${index}_${optIndex}">${String.fromCharCode(97 + optIndex)}) ${option}</label>
                            </div>
                        `).join('')}
                    </div>
                `;
                
                container.appendChild(questionDiv);
            });

            // Re-render MathJax after questions are added to the DOM
            if (typeof MathJax !== 'undefined') {
                MathJax.typesetPromise();
            }
        }

        function calculateScore() {
            let score = 0;
            const answers = [];
            const formData = new FormData(document.getElementById('quizForm'));
            
            shuffledQuestions.forEach((question, index) => {
                const selectedOptionValue = formData.get(`q${index}`);
                const selectedAnswerIndex = selectedOptionValue ? parseInt(selectedOptionValue) : null;
                const isCorrect = selectedAnswerIndex !== null && selectedAnswerIndex === question.correct;
                
                answers.push({
                    questionId: question.id,
                    questionText: question.text,
                    selectedAnswerIndex: selectedAnswerIndex,
                    selectedAnswerText: selectedAnswerIndex !== null && question.options[selectedAnswerIndex] ? question.options[selectedAnswerIndex] : 'No answer',
                    correctAnswerIndex: question.correct,
                    correctAnswerText: question.correct !== null && question.options[question.correct] ? question.options[question.correct] : 'N/A', // Handle null correct answers
                    isCorrect: isCorrect
                });

                if (isCorrect) {
                    score++;
                }
            });
            
            return { score, answers };
        }

        async function submitQuiz(event) {
            event.preventDefault(); // Prevent default form submission

            const { score, answers } = calculateScore();
            const totalQuestions = questions.length;
            const percentage = (score / totalQuestions) * 100;

            if (currentStudent) {
                currentStudent.score = score;
                currentStudent.totalQuestions = totalQuestions;
                currentStudent.percentage = percentage.toFixed(2);
                currentStudent.answers = answers;
                currentStudent.endTime = new Date().toISOString();

                // Backend Integration - Local Storage is used for demonstration
                // For a real application, replace this with a secure API call.
                try {
                    // This is a placeholder for a real backend call.
                    // For example, if you're using a serverless function:
                    // const response = await fetch('/.netlify/functions/save-quiz-result', {
                    //     method: 'POST',
                    //     headers: { 'Content-Type': 'application/json' },
                    //     body: JSON.stringify(currentStudent),
                    // });
                    // if (!response.ok) throw new Error('Server response not OK');

                    // Fallback to local storage for demonstration
                    saveResult(currentStudent);
                    alert('Your quiz has been submitted successfully!');
                } catch (error) {
                    console.error('Error submitting quiz:', error);
                    alert('There was an error submitting your results. Results will be saved locally in your browser.');
                    saveResult(currentStudent);
                }
                
                // Display results
                document.getElementById('questionsContainer').style.display = 'none';
                document.getElementById('submitSection').style.display = 'none';
                document.getElementById('progressInfo').style.display = 'none';
                document.getElementById('results').style.display = 'block';

                document.getElementById('scoreDisplay').innerText = `You scored ${score} out of ${totalQuestions} (${percentage.toFixed(2)}%)`;
                document.getElementById('progressFill').style.width = `${percentage}%`;
            }
        }

        // Add event listener for form submission
        document.getElementById('quizForm').addEventListener('submit', submitQuiz);

        // --- Admin Functions (using localStorage for demonstration - keep for local testing or remove if not needed) ---
        // IMPORTANT: For production, these functions should interact with a secure backend.
        // localStorage is client-side and easily accessible/editable by users.

        function saveResult(result) {
            let allResults = loadAllResults();
            allResults.push(result);
            localStorage.setItem('quizResults', JSON.stringify(allResults));
            console.log('Result saved to localStorage:', result);
        }

        function loadAllResults() {
            const results = localStorage.getItem('quizResults');
            return results ? JSON.parse(results) : [];
        }

        function downloadResults() {
            const allResults = loadAllResults();
            if (allResults.length === 0) {
                alert('No results to download.');
                return;
            }

            let csvContent = "data:text/csv;charset=utf-8,";
            
            // CSV Header - Ensure this matches the order of data sent to Google Sheet if you want consistency
            const headers = ['Timestamp', 'Student Name', 'Student ID', 'Class', 'Score', 'Total Questions', 'Percentage', 'Quiz Start Time', 'Quiz End Time', 'Question Order', 'Answers Details'];
            csvContent += headers.join(',') + "\n";

            allResults.forEach(result => {
                const row = [
                    `"${new Date(result.endTime).toLocaleString()}"`, // Using endTime as general submission timestamp
                    `"${result.name}"`,
                    `"${result.studentId}"`,
                    `"${result.class || 'SSS 2'}"`, // Default to SSS 2 if class is not provided
                    result.score,
                    result.totalQuestions,
                    result.percentage,
                    `"${result.startTime}"`,
                    `"${result.endTime}"`,
                    `"${JSON.stringify(result.questionOrder).replace(/"/g, '""')}"`, // Stringify and escape for CSV
                    `"${JSON.stringify(result.answers).replace(/"/g, '""')}"` // Stringify and escape for CSV
                ];
                csvContent += row.join(',') + "\n";
            });

            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "quiz_results_local.csv"); // Renamed to clarify it's local
            document.body.appendChild(link); // Required for Firefox
            link.click();
            document.body.removeChild(link); // Clean up
        }

        function viewAllResults() {
            const allResults = loadAllResults();
            if (allResults.length === 0) {
                alert('No results to display.');
                return;
            }

            let displayString = "--- All Quiz Results (Local) ---\n\n"; // Added (Local) for clarity
            allResults.forEach((result, index) => {
                displayString += `Student ${index + 1}:\n`;
                displayString += `  Name: ${result.name}\n`;
                displayString += `  Student ID: ${result.studentId}\n`;
                displayString += `  Class: ${result.class || 'SSS 2'}\n`;
                displayString += `  Score: ${result.score}/${result.totalQuestions} (${result.percentage}%)\n`;
                displayString += `  Start Time: ${new Date(result.startTime).toLocaleString()}\n`;
                displayString += `  End Time: ${new Date(result.endTime).toLocaleString()}\n`;
                displayString += `  Detailed Answers (first 5 for brevity):\n`;
                result.answers.slice(0, 5).forEach(ans => {
                    displayString += `    Q${ans.questionId}: Selected ${ans.selectedAnswerText}, Correct ${ans.correctAnswerText} (${ans.isCorrect ? 'Correct' : 'Incorrect'})\n`;
                });
                if (result.answers.length > 5) {
                    displayString += `    ...and ${result.answers.length - 5} more answers.\n`;
                }
                displayString += "\n------------------------\n\n";
            });
            alert(displayString); // Using alert for simplicity, consider a modal for better UX
        }

        function clearAllResults() {
            if (confirm('Are you sure you want to clear ALL LOCAL quiz results? This action cannot be undone.')) {
                localStorage.removeItem('quizResults');
                alert('All LOCAL quiz results have been cleared.');
            }
        }

    </script>
</body>
</html>